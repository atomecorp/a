<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Squirrel.js - Basic Example</title>

        body {
            font-family: system-ui, -apple-system, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        
        .header {
            background: #007bff;
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .test-area {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .status {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üêøÔ∏è Test Squirrel.js - Basic Example</h1>
        <p>Test de cr√©ation d'un √©l√©ment SPAN avec Squirrel.js</p>
    </div>

    <div class="test-area">
        <h2>Zone de test</h2>
        <p>L'√©l√©ment SPAN devrait appara√Ætre ci-dessous :</p>
        <div id="test-container" style="border: 2px dashed #ccc; padding: 20px; min-height: 100px;">
            <!-- L'√©l√©ment SPAN sera cr√©√© ici -->
        </div>
    </div>

    <div class="test-area">
        <h2>Status du test</h2>
        <div id="status-container">
            <div class="status">‚è≥ Chargement de Squirrel.js...</div>
        </div>
    </div>

    <!-- Charger Squirrel.js -->
    <script src="squirrel.js"></script>
    
    <script>
        const statusContainer = document.getElementById('status-container');
        const testContainer = document.getElementById('test-container');
        
        function addStatus(message, type = 'success') {
            const div = document.createElement('div');
            div.className = `status ${type}`;
            div.textContent = message;
            statusContainer.appendChild(div);
        }
        
        // Attendre que Squirrel soit pr√™t
        window.addEventListener('squirrel:ready', () => {
            addStatus('‚úÖ Squirrel.js charg√© avec succ√®s');
            
            // V√©rifier que les fonctions sont disponibles
            if (typeof window.$ === 'function') {
                addStatus('‚úÖ Fonction $ disponible');
            } else {
                addStatus('‚ùå Fonction $ non disponible', 'error');
                return;
            }
            
            // Test de cr√©ation du SPAN
            try {
                const spanElement = $('span', {
                    // pas besoin de 'tag'
                    id: 'test1',
                    css: {
                        backgroundColor: '#00f',
                        marginLeft: '0',
                        padding: '10px',
                        color: 'white',
                        margin: '10px',
                        display: 'inline-block'
                    },
                    text: 'Je suis un SPAN ! üéØ',
                    parent: testContainer  // Attacher au container de test
                });
                
                addStatus('‚úÖ √âl√©ment SPAN cr√©√© avec succ√®s');
                addStatus(`‚úÖ ID de l'√©l√©ment : ${spanElement.id}`);
                addStatus(`‚úÖ Type d'√©l√©ment : ${spanElement.tagName}`);
                addStatus(`‚úÖ Texte : "${spanElement.textContent}"`);
                
                // V√©rifier que l'√©l√©ment est bien dans le DOM
                const elementInDOM = document.getElementById('test1');
                if (elementInDOM) {
                    addStatus('‚úÖ √âl√©ment trouv√© dans le DOM');
                } else {
                    addStatus('‚ùå √âl√©ment non trouv√© dans le DOM', 'error');
                }
                
            } catch (error) {
                addStatus(`‚ùå Erreur lors de la cr√©ation du SPAN: ${error.message}`, 'error');
                console.error('Erreur d√©taill√©e:', error);
            }
        });
        
        // Timeout de s√©curit√©
        setTimeout(() => {
            if (!document.getElementById('test1')) {
                addStatus('‚ùå Timeout : Squirrel.js n\'a pas pu cr√©er l\'√©l√©ment', 'error');
            }
        }, 3000);
    </script>
</body>
</html>
