!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Squirrel=e()}(this,function(){"use strict";const t=new Map,e=new Map,s=new WeakMap,n=new WeakMap,o=t=>{if(e.has(t))return e.get(t);const s=t.replace(/([A-Z])/g,"-$1").toLowerCase();return e.set(t,s),s},r=t=>t.startsWith("on"),i=new Set(["draggable","hidden","spellcheck","contenteditable","disabled","checked","readonly"]),a=(t,e)=>{e&&("string"==typeof e?-1===e.indexOf(" ")?t.classList.add(e):t.classList.add(...e.split(" ")):Array.isArray(e)&&t.classList.add(...e))},l=(e,c={})=>{const d=t.get(e)||{},p=(h=d.tag||c.tag||e||"div",document.createElement(h));var h;const u={...d,...c};if((d.css||c.css)&&("string"==typeof d.css&&"string"==typeof c.css?u.css=d.css+";"+c.css:"object"==typeof d.css&&"object"==typeof c.css?u.css={...d.css,...c.css}:u.css=c.css||d.css),(d.attrs||c.attrs)&&(u.attrs={...d.attrs||{},...c.attrs||{}}),u.mark&&p.setAttribute("data-hyperfactory","true"),u.id&&(p.id=u.id),u.text&&(p.textContent=u.text),a(p,u.class),u.attrs)for(const[t,e]of Object.entries(u.attrs))null==e?p.removeAttribute(t):i.has(t)?e?p.setAttribute(t,""):p.removeAttribute(t):p.setAttribute(t,e);if(u.css)if("string"==typeof u.css)p.style.cssText=u.css;else for(const t in u.css)if(u.css.hasOwnProperty(t)){const e=u.css[t],s=o(t);null==e?p.style.removeProperty(s):p.style.setProperty(s,e)}s.set(p,{});for(const t in u)if(r(t)&&"function"==typeof u[t]){const e=t.slice(2).toLowerCase(),n=u[t];p.addEventListener(e,n),s.get(p)[e]=n}u.children&&u.children.forEach(t=>{const e=l(t.id,t);p.appendChild(e)}),p.$=t=>{if("text"in t&&(p.textContent=t.text),t.class&&a(p,t.class),t.css)if("string"==typeof t.css)p.style.cssText=t.css;else for(const e in t.css)if(t.css.hasOwnProperty(e)){const s=t.css[e],n=o(e);null==s?p.style.removeProperty(n):p.style.setProperty(n,s)}if(t.attrs)for(const e in t.attrs)if(t.attrs.hasOwnProperty(e)){const s=t.attrs[e];null==s?p.removeAttribute(e):i.has(e)?s?p.setAttribute(e,""):p.removeAttribute(e):p.setAttribute(e,s)}const e=s.get(p);for(const s in t)if(r(s)&&"function"==typeof t[s]){const n=s.slice(2).toLowerCase(),o=t[s];e[n]&&p.removeEventListener(n,e[n]),p.addEventListener(n,o),e[n]=o}return p},p._=p.style;const f=u.parent||"#view";if("string"==typeof f){const t=document.querySelector(f);t?t.appendChild(p):console.warn(`Parent selector "${f}" not found`)}else f.appendChild(p);return p.animate=(t,e={})=>p.animate(t,{duration:e.duration||300,easing:e.easing||"ease",fill:"forwards"}).finished,p.remove=()=>{const t=n.get(p);t&&(t.forEach(t=>t.disconnect()),n.delete(p));const e=s.get(p);if(e){for(const t in e)e.hasOwnProperty(t)&&p.removeEventListener(t,e[t]);s.delete(p)}p.parentNode?.removeChild(p)},p},c=(e,s)=>(t.set(e,s),s);var d={$:l,define:c,batch:(...t)=>{requestAnimationFrame(()=>{t.forEach(t=>{try{t()}catch(t){console.error("Batch operation failed:",t)}})})},observeMutations:(t,e,s={})=>{const o=new MutationObserver(t=>{t.forEach(t=>e(t))});o.observe(t,{attributes:!0,childList:!0,subtree:!0,...s}),n.has(t)||n.set(t,[]),n.get(t).push(o)}};c("slider-container",{tag:"div",class:"hs-slider",css:{position:"relative",display:"inline-block",userSelect:"none",touchAction:"none"}}),c("slider-track",{tag:"div",class:"hs-slider-track",css:{position:"absolute",backgroundColor:"#e0e0e0",borderRadius:"4px",overflow:"hidden",zIndex:"1",boxSizing:"border-box"}}),c("slider-progression",{tag:"div",class:"hs-slider-progression",css:{position:"absolute",backgroundColor:"#007bff",borderRadius:"0",zIndex:"2"}}),c("slider-handle",{tag:"div",class:"hs-slider-handle",css:{position:"absolute",backgroundColor:"#fff",border:"2px solid #007bff",borderRadius:"50%",cursor:"pointer",zIndex:"20",boxShadow:"0 4px 8px rgba(0,0,0,0.15)"}}),c("slider-label",{tag:"div",class:"hs-slider-label",css:{position:"absolute",fontSize:"12px",fontFamily:"system-ui, sans-serif",color:"#666",whiteSpace:"nowrap"}}),c("slider-tick",{tag:"div",class:"hs-slider-tick",css:{position:"absolute",backgroundColor:"#ccc",pointerEvents:"none"}});const p={horizontal:{container:{width:"200px",height:"20px"},track:{width:"100%",height:"4px",top:"50%",transform:"translateY(-50%)"},progression:{height:"100%",left:"0",top:"0",borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"},handle:{width:"16px",height:"16px",top:"50%"},label:{top:"25px",transform:"translateX(-50%)"}},vertical:{container:{width:"20px",height:"200px"},track:{width:"4px",height:"100%",left:"50%",transform:"translateX(-50%)"},progression:{width:"100%",bottom:"0",left:"0",borderBottomLeftRadius:"4px",borderBottomRightRadius:"4px"},handle:{width:"16px",height:"16px",left:"50%"},label:{left:"25px",transform:"translateY(-50%)"}},circular:{container:{width:"120px",height:"120px"},track:{width:"100%",height:"100%",borderRadius:"50%",border:"4px solid #e0e0e0"},progression:{display:"none"},handle:{width:"20px",height:"20px"},label:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}},h={sm:{scale:.8},md:{scale:1},lg:{scale:1.2},xl:{scale:1.5}};if(d.components={Slider:(t={})=>{const{type:e="horizontal",min:s=0,max:n=100,value:o=50,step:r=1,onChange:i,onInput:a,skin:c={},id:d,disabled:u=!1,showLabel:f=!0,showTicks:g=!1,ticks:m=[],size:b="md",radius:w,handleOffset:v=0,dragMin:x=null,dragMax:y=null,...k}=t,$=d||`slider_${Date.now()}_${Math.random().toString(36).substr(2,6)}`,M=Math.max(s,Math.min(n,o)),C="circular"===e;let E={...p[e]?.container||{},...h[b]||{}},L={...p[e]?.track||{}},A={...p[e]?.progression||{}},S={...p[e]?.handle||{}},R={...p[e]?.label||{}};if(C&&w){const t=2*w;E.width=`${t}px`,E.height=`${t}px`}c.container&&(E={...E,...c.container}),c.track&&(L={...L,...c.track}),c.progression&&(A={...A,...c.progression}),c.handle&&(S={...S,...c.handle}),c.label&&(R={...R,...c.label}),u&&(E.opacity="0.6",E.pointerEvents="none");const P=l("slider-container",{id:$,css:E,...k}),D=l("slider-track",{id:`${$}_track`,css:L});let T;C&&D.$({css:{width:"100%",height:"100%",top:"0",left:"0"}}),C||(T=l("slider-progression",{id:`${$}_progression`,css:A}),D.appendChild(T));const z=l("slider-handle",{id:`${$}_handle`,css:S});let I;f&&(I=l("slider-label",{id:`${$}_label`,text:M.toString(),css:R})),g&&m.length>0&&m.forEach((t,o)=>{const r=(t-s)/(n-s)*100,i=l("slider-tick",{id:`${$}_tick_${o}`,css:{...c.tick||{},..."horizontal"===e?{left:`${r}%`,top:"12px",width:"2px",height:"6px"}:{top:100-r+"%",left:"12px",width:"6px",height:"2px"}}});P.appendChild(i)}),P.appendChild(D),!C&&T&&D.appendChild(T),P.appendChild(z),I&&P.appendChild(I);let O=!1,B=M,_=v;const W=t=>{const o=Math.max(s,Math.min(n,t));if(C){const t=(o-s)/(n-s)*100;let e=0;null!==x||null!==y?o>=Y&&o<=q?e=(o-Y)/(q-Y)*100:o>q&&(e=100):e=t;const r=(t/100*360-90)*Math.PI/180,i=window.getComputedStyle(D),a=50-(parseFloat(i.borderWidth)||parseFloat(i.borderTopWidth)||6)/P.offsetWidth*100+_,l=50+a*Math.cos(r),d=50+a*Math.sin(r);if(z.$({css:{left:`${l}%`,top:`${d}%`,transform:"translate(-50%, -50%)",zIndex:"15"}}),D.querySelector("svg")){const t=D.querySelector(".progress-circle");if(t){const o=42,r=2*Math.PI*o;if(null!==x||null!==y){const o=e/100*(r*((q-Y)/(n-s))),i=r*((Y-s)/(n-s));t.style.strokeDasharray=`${o} ${r-o}`,t.style.strokeDashoffset=-i}else{const s=r-e/100*r;t.style.strokeDasharray=r,t.style.strokeDashoffset=s}}}else{const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("viewBox","0 0 100 100"),t.style.cssText="\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          transform: rotate(-90deg);\n          pointer-events: none;\n          z-index: 2;\n        ";const o=42,r=2*Math.PI*o,i=document.createElementNS("http://www.w3.org/2000/svg","circle");i.style.cssText="\n          fill: none;\n          stroke: #e0e0e0;\n          stroke-width: 6;\n          opacity: 0.3;\n        ",i.setAttribute("cx","50"),i.setAttribute("cy","50"),i.setAttribute("r",o.toString());const a=c.progression||{},l=document.createElementNS("http://www.w3.org/2000/svg","circle");if(l.classList.add("progress-circle"),null!==x||null!==y){const t=e/100*(r*((q-Y)/(n-s))),o=r*((Y-s)/(n-s));l.style.cssText=`\n            fill: none;\n            stroke: ${a.stroke||A.backgroundColor||"#007bff"};\n            stroke-width: ${a.strokeWidth||"6"};\n            stroke-dasharray: ${t} ${r-t};\n            stroke-dashoffset: ${-o};\n            stroke-linecap: ${a.strokeLinecap||"butt"};\n            opacity: ${a.opacity||"1"};\n          `}else l.style.cssText=`\n            fill: none;\n            stroke: ${a.stroke||A.backgroundColor||"#007bff"};\n            stroke-width: ${a.strokeWidth||"6"};\n            stroke-dasharray: ${r};\n            stroke-dashoffset: ${r-e/100*r};\n            stroke-linecap: ${a.strokeLinecap||"butt"};\n            opacity: ${a.opacity||"1"};\n          `;l.setAttribute("cx","50"),l.setAttribute("cy","50"),l.setAttribute("r",o.toString()),t.appendChild(i),t.appendChild(l),D.appendChild(t)}}else{const t=(o-s)/(n-s)*100;"vertical"===e?(z.$({css:{top:100-t+"%",transform:"translate(-50%, -50%)"}}),T&&T.$({css:{height:`${t}%`}})):(z.$({css:{left:`${t}%`,transform:"translate(-50%, -50%)"}}),T&&T.$({css:{width:`${t}%`}}))}I&&I.$({text:Math.round(o).toString()}),B=o},X=(t,o)=>{if(C){const e=P.getBoundingClientRect(),r=t-(e.left+e.width/2),i=o-(e.top+e.height/2);let a=Math.atan2(i,r)*(180/Math.PI);a+=90,a<0&&(a+=360);const l=s+a/360*(n-s);return C?Math.max(Y,Math.min(q,l)):l}if("vertical"===e){const t=D.getBoundingClientRect(),e=1-(o-t.top)/t.height;return s+Math.max(0,Math.min(1,e))*(n-s)}{const e=D.getBoundingClientRect(),o=(t-e.left)/e.width;return s+Math.max(0,Math.min(1,o))*(n-s)}},Y=null!==x?x:s,q=null!==y?y:n;Y<s&&console.warn(`dragMin (${Y}) ne peut pas être inférieur à min (${s})`),q>n&&console.warn(`dragMax (${q}) ne peut pas être supérieur à max (${n})`);const j=t=>{if(u)return;O=!0;const e=X(t.clientX,t.clientY),s=Math.round(e/r)*r;W(s),a&&a(B),document.addEventListener("mousemove",F),document.addEventListener("mouseup",N),t.preventDefault()},F=t=>{if(!O)return;const e=X(t.clientX,t.clientY),s=Math.round(e/r)*r;W(s),a&&a(B),t.preventDefault()},N=()=>{O&&(O=!1,i&&i(B),document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",N))},H=t=>{if(u)return;const e=t.touches[0];j({clientX:e.clientX,clientY:e.clientY,preventDefault:()=>t.preventDefault()})};return z.addEventListener("mousedown",j),D.addEventListener("mousedown",j),z.addEventListener("touchstart",H,{passive:!1}),D.addEventListener("touchstart",H,{passive:!1}),document.addEventListener("touchmove",t=>{if(!O)return;const e=t.touches[0];F({clientX:e.clientX,clientY:e.clientY,preventDefault:()=>t.preventDefault()})},{passive:!1}),document.addEventListener("touchend",()=>{N()}),W(M),P.setValue=t=>(W(t),i&&i(B),P),P.getValue=()=>B,P.setRange=(t,e)=>(s=t,n=e,W(B),P),P.setDisabled=t=>(u=t,P.$({css:{opacity:t?"0.6":"1",pointerEvents:t?"none":"auto"}}),P),P.setHandleOffset=t=>(C&&(_=t,W(B)),P),P.getHandleOffset=()=>_,P}},"undefined"!=typeof window){if(window.$=d.$,!document.getElementById("view")){const t=document.createElement("div");t.id="view",document.body.appendChild(t)}setTimeout(()=>{window.squirrelReady=!0,window.dispatchEvent(new Event("squirrel:ready"))},0)}return d});