/*! Squirrel.js v1.0.0 | MIT License | 2025-06-19T14:04:11.936Z */
var Squirrel=function(){"use strict";const t=new Map,e=new Map,n=new WeakMap,o=new WeakMap,i=t=>{if(e.has(t))return e.get(t);const n=t.replace(/([A-Z])/g,"-$1").toLowerCase();return e.set(t,n),n},s=t=>t.startsWith("on"),r=new Set(["draggable","hidden","spellcheck","contenteditable","disabled","checked","readonly"]),a=(t,e)=>{e&&("string"==typeof e?-1===e.indexOf(" ")?t.classList.add(e):t.classList.add(...e.split(" ")):Array.isArray(e)&&t.classList.add(...e))},c=(e,l={})=>{const d=t.get(e)||{},u=(g=d.tag||l.tag||e||"div",document.createElement(g));var g;const p={...d,...l};if((d.css||l.css)&&("string"==typeof d.css&&"string"==typeof l.css?p.css=d.css+";"+l.css:"object"==typeof d.css&&"object"==typeof l.css?p.css={...d.css,...l.css}:p.css=l.css||d.css),(d.attrs||l.attrs)&&(p.attrs={...d.attrs||{},...l.attrs||{}}),p.mark&&u.setAttribute("data-hyperfactory","true"),p.id&&(u.id=p.id),p.text&&(u.textContent=p.text),a(u,p.class),p.attrs)for(const[t,e]of Object.entries(p.attrs))null==e?u.removeAttribute(t):r.has(t)?e?u.setAttribute(t,""):u.removeAttribute(t):u.setAttribute(t,e);if(p.css)if("string"==typeof p.css)u.style.cssText=p.css;else for(const t in p.css)if(p.css.hasOwnProperty(t)){const e=p.css[t],n=i(t);null==e?u.style.removeProperty(n):u.style.setProperty(n,e)}n.set(u,{});for(const t in p)if(s(t)&&"function"==typeof p[t]){const e=t.slice(2).toLowerCase(),o=p[t];u.addEventListener(e,o),n.get(u)[e]=o}p.children&&p.children.forEach(t=>{const e=c(t.id,t);u.appendChild(e)}),u.$=t=>{if("text"in t&&(u.textContent=t.text),t.class&&a(u,t.class),t.css)if("string"==typeof t.css)u.style.cssText=t.css;else for(const e in t.css)if(t.css.hasOwnProperty(e)){const n=t.css[e],o=i(e);null==n?u.style.removeProperty(o):u.style.setProperty(o,n)}if(t.attrs)for(const e in t.attrs)if(t.attrs.hasOwnProperty(e)){const n=t.attrs[e];null==n?u.removeAttribute(e):r.has(e)?n?u.setAttribute(e,""):u.removeAttribute(e):u.setAttribute(e,n)}const e=n.get(u);for(const n in t)if(s(n)&&"function"==typeof t[n]){const o=n.slice(2).toLowerCase(),i=t[n];e[o]&&u.removeEventListener(o,e[o]),u.addEventListener(o,i),e[o]=i}return u},u._=u.style;const h=p.parent||"#view";if("string"==typeof h){const t=document.querySelector(h);t?t.appendChild(u):console.warn(`Parent selector "${h}" not found`)}else h.appendChild(u);return u.animate=(t,e={})=>u.animate(t,{duration:e.duration||300,easing:e.easing||"ease",fill:"forwards"}).finished,u.remove=()=>{const t=o.get(u);t&&(t.forEach(t=>t.disconnect()),o.delete(u));const e=n.get(u);if(e){for(const t in e)e.hasOwnProperty(t)&&u.removeEventListener(t,e[t]);n.delete(u)}u.parentNode?.removeChild(u)},u},l=(e,n)=>(t.set(e,n),n),d=(t,e,n={})=>{const i=new MutationObserver(t=>{t.forEach(t=>e(t))});i.observe(t,{attributes:!0,childList:!0,subtree:!0,...n}),o.has(t)||o.set(t,[]),o.get(t).push(i)};window.puts=function(t){console.log(t)},window.print=function(t){console.log("[PRINT]",t)},window.grab=function(){const t=new Map;return function(e){if(!e)return null;const n=_registry[e];if(n)return n;if(t.has(e)){const n=t.get(e);if(n&&n.isConnected)return n;t.delete(e)}const o=document.getElementById(e);if(!o)return null;if(!o._enhanced){o._enhanced=!0;["width","height","color","backgroundColor","x","y"].forEach(t=>{const e="x"===t?"left":"y"===t?"top":t;o[t]=function(t){return 0===arguments.length?getComputedStyle(this)[e]:(this.style[e]=window._isNumber&&window._isNumber(t)?window._formatSize(t):t,this)}})}return t.set(e,o),o}}(),Object.prototype.define_method=function(t,e){return this[t]=e,this},Array.prototype.each=function(t){return this.forEach(t),this},Object.prototype.inspect=function(){return AJS.inspect(this)};window.wait=(t,e)=>{if("function"!=typeof e)return new Promise(e=>setTimeout(e,t));setTimeout(e,t)},window.log=window.puts,window._registry=window._registry||{},window.AJS=window.AJS||{inspect:function(t){return JSON.stringify(t,null,2)}};class u{constructor(){this.plugins=new Map,this.loadedPlugins=new Set,this.componentsPath="./components/",this.registeredComponents=[]}async discover(){const t=["List_builder","badge_builder","button_builder","draggable_builder","matrix_builder","menu_builder","slider_builder","table_builder","tooltip_builder","unit_builder"];return t.forEach(t=>{this.registerLazyPlugin(t)}),this.registeredComponents=t,t}registerLazyPlugin(t){const e=this.getPluginName(t);this.plugins.set(e,{componentFile:t,loaded:!1,instance:null,loader:()=>this.loadComponent(t,e)})}getPluginName(t){const e=t.replace("_builder","").replace(".js","");return e.charAt(0).toUpperCase()+e.slice(1)}async loadComponent(t,e){if(this.loadedPlugins.has(e))return this.plugins.get(e);try{const n=`${this.componentsPath}${t}.js`,o=await import(n);this.exposePlugin(t,o,e);const i=this.plugins.get(e);return i.loaded=!0,i.instance=window[e],this.loadedPlugins.add(e),i}catch(t){throw console.error(`❌ Erreur lors du chargement du plugin "${e}":`,t),t}}getExportName(t,e){if(e.default)return"default";return Object.keys(e)[0]||"default"}exposePlugin(t,e,n){if(e.default&&"function"==typeof e.default.create)return window[n]=e.default.create,window[n+"Styles"]=e.default,"draggable_builder"===t&&(window.makeDraggable=e.makeDraggable,window.makeDraggableWithDrop=e.makeDraggableWithDrop,window.makeDropZone=e.makeDropZone),void("unit_builder"===t&&Object.assign(window[n],{deleteUnit:e.deleteUnit,deleteUnits:e.deleteUnits,selectUnit:e.selectUnit,selectUnits:e.selectUnits,deselectUnit:e.deselectUnit,deselectUnits:e.deselectUnits,deselectAllUnits:e.deselectAllUnits,getSelectedUnits:e.getSelectedUnits,renameUnit:e.renameUnit,renameUnits:e.renameUnits,connectUnits:e.connectUnits,disconnectUnits:e.disconnectUnits,getAllConnections:e.getAllConnections,getUnit:e.getUnit,getAllUnits:e.getAllUnits}));if(e.default&&"function"==typeof e.default)return void(window[n]=e.default);const o=`create${n}`;if(e[o]&&"function"==typeof e[o])return void(window[n]=e[o]);const i=Object.keys(e).filter(t=>t.startsWith("create")&&"function"==typeof e[t]);if(i.length>0)return void(window[n]=e[i[0]]);const s=Object.keys(e).filter(t=>"function"==typeof e[t]);s.length>0?window[n]=e[s[0]]:e.default?window[n]=e.default:this.exposePluginManual(t,e,n)}exposePluginManual(t,e,n){if("draggable_builder"===t)window.draggable=e.draggable,window.makeDraggable=e.makeDraggable,window.makeDraggableWithDrop=e.makeDraggableWithDrop,window.makeDropZone=e.makeDropZone,window.Draggable=e.draggable;else{const t=Object.keys(e)[0];t?window[n]=e[t]:(console.warn(`❌ Impossible d'exposer le plugin ${n} automatiquement`),console.warn("   Module exports:",Object.keys(e)))}}async load(t){const e=this.plugins.get(t);if(!e)throw new Error(`Plugin "${t}" non trouvé. Plugins disponibles: ${Array.from(this.plugins.keys()).join(", ")}`);return e.loaded||await e.loader(),e.instance}async loadMultiple(t){const e={};for(const n of t)try{e[n]=await this.load(n)}catch(t){console.error(`Erreur lors du chargement de ${n}:`,t),e[n]=null}return e}async loadAll(){const t=Array.from(this.plugins.keys());return await this.loadMultiple(t)}getAvailablePlugins(){return Array.from(this.plugins.keys())}getLoadedPlugins(){return Array.from(this.loadedPlugins)}getStatus(){const t=this.getAvailablePlugins(),e=this.getLoadedPlugins();return{available:t.length,loaded:e.length,availableList:t,loadedList:e,pending:t.filter(t=>!e.includes(t))}}loadSync(t){const e=this.plugins.get(t);return e?e.loaded?e.instance:(console.warn(`⚠️ Tentative de chargement synchrone du plugin "${t}" non préchargé`),this.load(t).catch(e=>{console.error(`❌ Erreur chargement synchrone de "${t}":`,e)}),null):(console.error(`❌ Plugin "${t}" non trouvé. Plugins disponibles: ${Array.from(this.plugins.keys()).join(", ")}`),null)}}window.PluginManager=u;class g{constructor(t){this.pluginManager=t}async use(t){"string"==typeof t&&(t=[t]);return await this.pluginManager.loadMultiple(t)}async plugin(t){return await this.pluginManager.load(t)}hasPlugin(t){return this.pluginManager.plugins.has(t)}isPluginLoaded(t){return this.pluginManager.loadedPlugins.has(t)}getAvailablePlugins(){return this.pluginManager.getAvailablePlugins()}getLoadedPlugins(){return this.pluginManager.getLoadedPlugins()}getPluginStatus(){return this.pluginManager.getStatus()}async create(t,...e){await this.use([t]);const n=window[t];if(!n)throw new Error(`Composant "${t}" non trouvé après chargement`);return new n(...e)}async button(...t){return await this.create("Button",...t)}async slider(...t){return await this.create("Slider",...t)}async matrix(...t){return await this.create("Matrix",...t)}async module(...t){return await this.create("Module",...t)}async table(...t){return await this.create("Table",...t)}async list(...t){return await this.create("List",...t)}async menu(...t){return await this.create("Menu",...t)}}l("badge-element",{tag:"span",class:"hs-badge",css:{display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.5px"}}),l("button-container",{tag:"button",class:"hs-button",text:"hello",css:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"8px 16px",border:"1px solid #ccc",borderRadius:"4px",backgroundColor:"#f8f9fa",color:"#333",fontSize:"14px",fontFamily:"system-ui, sans-serif",cursor:"pointer",transition:"all 0.2s ease",outline:"none"},attrs:{type:"button"}}),l("button-icon",{tag:"span",class:"hs-button-icon",css:{display:"inline-flex",alignItems:"center",justifyContent:"center",marginRight:"6px",fontSize:"16px"}}),l("button-text",{tag:"span",class:"hs-button-text",css:{fontSize:"inherit",fontWeight:"400",lineHeight:"1"}}),l("button-badge",{tag:"span",class:"hs-button-badge",css:{position:"absolute",top:"-6px",right:"-6px",minWidth:"18px",height:"18px",padding:"0 4px",borderRadius:"9px",backgroundColor:"#dc3545",color:"white",fontSize:"11px",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center"}}),l("draggable-box",{tag:"div",class:"hs-draggable",css:{position:"absolute",width:"100px",height:"100px",backgroundColor:"#3498db",border:"2px solid #2980b9",borderRadius:"8px",cursor:"grab",userSelect:"none",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",transition:"box-shadow 0.2s ease"}}),l("drag-handle",{tag:"div",class:"hs-drag-handle",css:{position:"absolute",top:"0",left:"0",right:"0",height:"30px",backgroundColor:"rgba(0,0,0,0.1)",borderRadius:"8px 8px 0 0",cursor:"grab",display:"flex",alignItems:"center",justifyContent:"center"}}),l("drop-zone",{tag:"div",class:"hs-drop-zone",css:{position:"relative",minHeight:"100px",border:"2px dashed #bdc3c7",borderRadius:"8px",backgroundColor:"#ecf0f1",display:"flex",alignItems:"center",justifyContent:"center",color:"#7f8c8d",fontSize:"14px",transition:"all 0.3s ease",margin:"10px"}}),l("drop-zone-active",{css:{borderColor:"#3498db",backgroundColor:"#ebf3fd",color:"#2980b9"}}),l("drop-zone-hover",{css:{borderColor:"#27ae60",backgroundColor:"#e8f5e8",color:"#27ae60",transform:"scale(1.02)"}}),l("drop-zone-reject",{css:{borderColor:"#e74c3c",backgroundColor:"#fdf2f2",color:"#c0392b"}}),l("slider-container",{tag:"div",class:"hs-slider",css:{position:"relative",display:"inline-block",userSelect:"none",touchAction:"none"}}),l("slider-track",{tag:"div",class:"hs-slider-track",css:{position:"absolute",backgroundColor:"#e0e0e0",borderRadius:"4px",overflow:"hidden",zIndex:"1",boxSizing:"border-box"}}),l("slider-progression",{tag:"div",class:"hs-slider-progression",css:{position:"absolute",backgroundColor:"#007bff",borderRadius:"0",zIndex:"2"}}),l("slider-handle",{tag:"div",class:"hs-slider-handle",css:{position:"absolute",backgroundColor:"#fff",border:"2px solid #007bff",borderRadius:"50%",cursor:"pointer",zIndex:"20",boxShadow:"0 4px 8px rgba(0,0,0,0.15)"}}),l("slider-label",{tag:"div",class:"hs-slider-label",css:{position:"absolute",fontSize:"12px",fontFamily:"system-ui, sans-serif",color:"#666",whiteSpace:"nowrap"}}),l("slider-tick",{tag:"div",class:"hs-slider-tick",css:{position:"absolute",backgroundColor:"#ccc",pointerEvents:"none"}}),l("tooltip-container",{tag:"div",class:"hs-tooltip",css:{position:"absolute",backgroundColor:"#333",color:"white",padding:"8px 12px",borderRadius:"4px",fontSize:"14px",zIndex:"9999",pointerEvents:"none",opacity:"0",transition:"opacity 0.2s ease"}});new class{constructor(){this.units=new Map,this.connections=new Map,this.selectedUnits=new Set,this.dragState=null,this.connectionMode=!1,this.firstConnector=null,this.nextUnitId=1,this.nextConnectorId=1,this.nextConnectionId=1,this.connectorDragState={isDragging:!1,sourceConnector:null,dragLine:null},this.setupGlobalListeners()}setupGlobalListeners(){document.addEventListener("click",t=>{t.target.closest(".unit-container")||t.target.closest(".unit-connector")||this.deselectAll()})}generateUnitId(){return"unit_"+this.nextUnitId++}generateConnectorId(){return"connector_"+this.nextConnectorId++}generateConnectionId(){return"connection_"+this.nextConnectionId++}registerUnit(t){this.units.set(t.id,t)}unregisterUnit(t){this.removeAllConnectionsForUnit(t),this.units.delete(t),this.selectedUnits.delete(t)}removeAllConnectionsForUnit(t){const e=[];this.connections.forEach((n,o)=>{n.fromUnit!==t&&n.toUnit!==t||e.push(o)}),e.forEach(t=>this.removeConnection(t))}selectUnit(t){this.selectedUnits.add(t);const e=this.units.get(t);e&&e.element.classList.add("unit-selected")}deselectUnit(t){this.selectedUnits.delete(t);const e=this.units.get(t);e&&e.element.classList.remove("unit-selected")}deselectAll(){this.selectedUnits.forEach(t=>this.deselectUnit(t))}getSelectedUnits(){return Array.from(this.selectedUnits)}createConnection(t,e,n,o){const i=this.generateConnectionId(),s={id:i,fromUnit:t,fromConnector:e,toUnit:n,toConnector:o};return this.connections.set(i,s),this.renderConnection(s),i}removeConnection(t){if(this.connections.get(t)){const e=document.querySelector(`[data-connection-id="${t}"]`);e&&e.remove(),this.connections.delete(t)}}renderConnection(t){const e=this.units.get(t.fromUnit),n=this.units.get(t.toUnit);if(!e||!n)return;const o=e.element.querySelector(`[data-connector-id="${t.fromConnector}"]`),i=n.element.querySelector(`[data-connector-id="${t.toConnector}"]`);if(!o||!i)return;const s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("data-connection-id",t.id),s.classList.add("unit-connection-line"),this.updateConnectionPosition(s,o,i);let r=document.querySelector(".unit-connections-svg");r||(r=document.createElementNS("http://www.w3.org/2000/svg","svg"),r.classList.add("unit-connections-svg"),r.style.cssText="\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        pointer-events: none;\n        z-index: 50;\n      ",document.body.appendChild(r)),r.appendChild(s)}updateConnectionPosition(t,e,n){const o=e.getBoundingClientRect(),i=n.getBoundingClientRect(),s=o.left+o.width/2,r=o.top+o.height/2,a=i.left+i.width/2,c=i.top+i.height/2;t.setAttribute("x1",s),t.setAttribute("y1",r),t.setAttribute("x2",a),t.setAttribute("y2",c),t.setAttribute("stroke","#666"),t.setAttribute("stroke-width","2")}updateAllConnections(){this.connections.forEach(t=>{const e=document.querySelector(`[data-connection-id="${t.id}"]`);if(e){const n=this.units.get(t.fromUnit),o=this.units.get(t.toUnit);if(n&&o){const i=n.element.querySelector(`[data-connector-id="${t.fromConnector}"]`),s=o.element.querySelector(`[data-connector-id="${t.toConnector}"]`);i&&s&&this.updateConnectionPosition(e,i,s)}}})}getAllConnections(){return Array.from(this.connections.values())}handleConnectorClick(t,e,n){if(this.firstConnector){const{unitId:o,connectorId:i,connectorType:s}=this.firstConnector;if((o!==t||i!==e)&&("input"===s&&"output"===n||"output"===s&&"input"===n)){let n,r,a,c;"output"===s?(n=o,r=i,a=t,c=e):(n=t,r=e,a=o,c=i);const l=Array.from(this.connections.values()).find(t=>t.fromUnit===n&&t.fromConnector===r&&t.toUnit===a&&t.toConnector===c);l?this.removeConnection(l.id):this.createConnection(n,r,a,c)}this.highlightConnector(o,i,!1),this.firstConnector=null}else this.firstConnector={unitId:t,connectorId:e,connectorType:n},this.highlightConnector(t,e,!0)}highlightConnector(t,e,n){const o=this.units.get(t);if(o){const t=o.element.querySelector(`[data-connector-id="${e}"]`);t&&(n?t.classList.add("connector-selected"):t.classList.remove("connector-selected"))}}startConnectorDrag(t,e,n,o){o.preventDefault(),o.stopPropagation(),this.connectorDragState.isDragging=!0,this.connectorDragState.sourceConnector={unitId:t,connectorId:e,connectorType:n},this.createDragLine(o),document.addEventListener("mousemove",this.handleConnectorDragMove.bind(this)),document.addEventListener("mouseup",this.handleConnectorDragEnd.bind(this))}createDragLine(t){let e=document.querySelector(".unit-connections-svg");e||(e=document.createElementNS("http://www.w3.org/2000/svg","svg"),e.classList.add("unit-connections-svg"),e.style.cssText="\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        pointer-events: none;\n        z-index: 50;\n      ",document.body.appendChild(e));const n=document.createElementNS("http://www.w3.org/2000/svg","line");n.classList.add("unit-drag-line"),n.setAttribute("stroke","#007bff"),n.setAttribute("stroke-width","2"),n.setAttribute("stroke-dasharray","5,5"),n.setAttribute("opacity","0.8");const o=this.getConnectorElement(this.connectorDragState.sourceConnector.unitId,this.connectorDragState.sourceConnector.connectorId);if(o){const e=o.getBoundingClientRect(),i=e.left+e.width/2,s=e.top+e.height/2;n.setAttribute("x1",i),n.setAttribute("y1",s),n.setAttribute("x2",t.clientX),n.setAttribute("y2",t.clientY)}e.appendChild(n),this.connectorDragState.dragLine=n}handleConnectorDragMove(t){if(!this.connectorDragState.isDragging||!this.connectorDragState.dragLine)return;this.connectorDragState.dragLine.setAttribute("x2",t.clientX),this.connectorDragState.dragLine.setAttribute("y2",t.clientY);const e=document.elementFromPoint(t.clientX,t.clientY);if(e&&e.classList.contains("unit-connector")){e.getAttribute("data-connector-id");const t=e.getAttribute("data-connector-type");e.closest(".unit-container").getAttribute("data-unit-id");const n=this.connectorDragState.sourceConnector.connectorType;("output"===n&&"input"===t||"input"===n&&"output"===t)&&e.classList.add("connector-drag-hover")}document.querySelectorAll(".connector-drag-hover").forEach(t=>{t.contains(e)||t.classList.remove("connector-drag-hover")})}handleConnectorDragEnd(t){if(!this.connectorDragState.isDragging)return;this.connectorDragState.dragLine&&this.connectorDragState.dragLine.remove();const e=document.elementFromPoint(t.clientX,t.clientY);if(e&&e.classList.contains("unit-connector")){const t=e.getAttribute("data-connector-id"),n=e.getAttribute("data-connector-type"),o=e.closest(".unit-container").getAttribute("data-unit-id"),i=this.connectorDragState.sourceConnector;if("output"===i.connectorType&&"input"===n||"input"===i.connectorType&&"output"===n){let e,n,s,r;"output"===i.connectorType?(e=i.unitId,n=i.connectorId,s=o,r=t):(e=o,n=t,s=i.unitId,r=i.connectorId);const a=Array.from(this.connections.values()).find(t=>t.fromUnit===e&&t.fromConnector===n&&t.toUnit===s&&t.toConnector===r);a?this.removeConnection(a.id):this.createConnection(e,n,s,r)}}document.querySelectorAll(".connector-drag-hover").forEach(t=>{t.classList.remove("connector-drag-hover")}),document.removeEventListener("mousemove",this.handleConnectorDragMove.bind(this)),document.removeEventListener("mouseup",this.handleConnectorDragEnd.bind(this)),this.connectorDragState.isDragging=!1,this.connectorDragState.sourceConnector=null,this.connectorDragState.dragLine=null}getConnectorElement(t,e){const n=this.units.get(t);return n?n.element.querySelector(`[data-connector-id="${e}"]`):null}},l("unit-container",{tag:"div",class:"unit-container",css:{position:"absolute",minWidth:"120px",minHeight:"80px",backgroundColor:"#f8f9fa",border:"2px solid #ddd",borderRadius:"8px",cursor:"move",userSelect:"none",overflow:"visible",zIndex:"100"}}),l("unit-header",{tag:"div",class:"unit-header",css:{backgroundColor:"#e9ecef",borderBottom:"1px solid #ddd",borderRadius:"6px 6px 0 0",padding:"8px 12px",fontWeight:"bold",fontSize:"14px",color:"#333",cursor:"move"}}),l("unit-name",{tag:"span",class:"unit-name",css:{display:"block",outline:"none",backgroundColor:"transparent",border:"none"}}),l("unit-body",{tag:"div",class:"unit-body",css:{padding:"8px 12px",minHeight:"32px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"}}),l("unit-icon",{tag:"img",class:"unit-icon",attrs:{draggable:"false"},css:{maxWidth:"32px",maxHeight:"32px",objectFit:"contain",pointerEvents:"none"}}),l("unit-connector",{tag:"div",class:"unit-connector",css:{zIndex:"2",position:"absolute",width:"12px",height:"12px",backgroundColor:"#007bff",borderRadius:"50%",cursor:"pointer",border:"2px solid #fff",boxShadow:"0 0 0 1px #007bff"}}),l("unit-connector-input",{tag:"div",class:"unit-connector unit-connector-input",css:{position:"absolute",width:"12px",height:"12px",borderRadius:"50%",cursor:"pointer",border:"2px solid #fff",left:"-8px",backgroundColor:"#28a745",boxShadow:"0 0 0 1px #28a745"}}),l("unit-connector-output",{tag:"div",class:"unit-connector unit-connector-output",css:{position:"absolute",width:"12px",height:"12px",borderRadius:"50%",cursor:"pointer",border:"2px solid #fff",right:"-8px",backgroundColor:"#dc3545",boxShadow:"0 0 0 1px #dc3545"}});if(!document.querySelector("#unit-styles")){const t=document.createElement("style");t.id="unit-styles",t.textContent='\n  .unit-selected {\n    border-color: #007bff !important;\n    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25) !important;\n  }\n  \n  .unit-name[contenteditable="true"] {\n    background-color: rgba(255, 255, 255, 0.9) !important;\n    border: none !important;\n    border-radius: 3px !important;\n    padding: 0 !important;\n    outline: none !important;\n    box-shadow: inset 0 0 0 1px rgba(0, 123, 255, 0.3) !important;\n  }\n  \n  .connector-selected {\n    transform: scale(1.3) !important;\n    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.4) !important;\n  }\n  \n  .unit-connector:hover {\n    transform: scale(1.2);\n  }\n  \n  .connector-drag-hover {\n    transform: scale(1.4) !important;\n    box-shadow: 0 0 0 4px rgba(40, 167, 69, 0.6) !important;\n  }\n  \n  .unit-icon.animated {\n    animation: iconPulse 0.3s ease;\n  }\n  \n  @keyframes iconPulse {\n    0% { transform: scale(1); }\n    50% { transform: scale(1.1); }\n    100% { transform: scale(1); }\n  }\n',document.head.appendChild(t)}define("view",{tag:"div",class:"atome",id:"view"}),$("view",{parent:document.body,css:{background:"#272727",color:"lightgray",left:"0px",top:"0px",position:"absolute",width:"100%",height:"100%",overflow:"auto"}});let p=null;const h=(t,e)=>(window.templateRegistry||(window.templateRegistry=new Map),window.templateRegistry.set(t,e),e);function f(){window.$=c,window.define=h,window.observeMutations=d,window.body=document.body,window.toKebabCase=t=>t.replace(/([A-Z])/g,"-$1").toLowerCase(),p=new u,window.pluginManager=p;const t=new g(p);window.Squirrel=t}function b(){try{runKickstart(),window.squirrelDomReady=!0,window.dispatchEvent(new CustomEvent("squirrel:ready",{detail:{version:"1.0.0",components:Array.from(p.loadedPlugins),domReady:!0}}))}catch(t){console.error("❌ Erreur lors de l'initialisation DOM:",t)}}return"undefined"!=typeof window&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{f(),b()}):(f(),b())),{initAPIs:f,initDOM:b,loadComponents:loadComponents}}();
