var Squirrel=function(){"use strict";window.puts=function(t){console.log(t)},window.print=function(t){console.log("[PRINT]",t)},window.grab=function(){const t=new Map;return function(e){if(!e)return null;const s=_registry[e];if(s)return s;if(t.has(e)){const s=t.get(e);if(s&&s.isConnected)return s;t.delete(e)}const n=document.getElementById(e);if(!n)return null;if(!n._enhanced){n._enhanced=!0;["width","height","color","backgroundColor","x","y"].forEach(t=>{const e="x"===t?"left":"y"===t?"top":t;n[t]=function(t){return 0===arguments.length?getComputedStyle(this)[e]:(this.style[e]=window._isNumber&&window._isNumber(t)?window._formatSize(t):t,this)}})}return t.set(e,n),n}}(),Object.prototype.define_method=function(t,e){return this[t]=e,this},Array.prototype.each=function(t){return this.forEach(t),this},Object.prototype.inspect=function(){return AJS.inspect(this)};window.wait=(t,e)=>{if("function"!=typeof e)return new Promise(e=>setTimeout(e,t));setTimeout(e,t)},window.log=window.puts,window._registry=window._registry||{},window.AJS=window.AJS||{inspect:function(t){return JSON.stringify(t,null,2)}};const t=new Map,e=new Map,s=new WeakMap,n=new WeakMap,o=t=>{if(e.has(t))return e.get(t);const s=t.replace(/([A-Z])/g,"-$1").toLowerCase();return e.set(t,s),s},i=t=>t.startsWith("on"),r=new Set(["draggable","hidden","spellcheck","contenteditable","disabled","checked","readonly"]),c=(t,e)=>{e&&("string"==typeof e?-1===e.indexOf(" ")?t.classList.add(e):t.classList.add(...e.split(" ")):Array.isArray(e)&&t.classList.add(...e))},a=(e,l={})=>{const d=t.get(e)||{},u=(f=d.tag||l.tag||e||"div",document.createElement(f));var f;const w={...d,...l};if((d.css||l.css)&&("string"==typeof d.css&&"string"==typeof l.css?w.css=d.css+";"+l.css:"object"==typeof d.css&&"object"==typeof l.css?w.css={...d.css,...l.css}:w.css=l.css||d.css),(d.attrs||l.attrs)&&(w.attrs={...d.attrs||{},...l.attrs||{}}),w.mark&&u.setAttribute("data-hyperfactory","true"),w.id&&(u.id=w.id),w.text&&(u.textContent=w.text),c(u,w.class),w.attrs)for(const[t,e]of Object.entries(w.attrs))null==e?u.removeAttribute(t):r.has(t)?e?u.setAttribute(t,""):u.removeAttribute(t):u.setAttribute(t,e);if(w.css)if("string"==typeof w.css)u.style.cssText=w.css;else for(const t in w.css)if(w.css.hasOwnProperty(t)){const e=w.css[t],s=o(t);null==e?u.style.removeProperty(s):u.style.setProperty(s,e)}s.set(u,{});for(const t in w)if(i(t)&&"function"==typeof w[t]){const e=t.slice(2).toLowerCase(),n=w[t];u.addEventListener(e,n),s.get(u)[e]=n}w.children&&w.children.forEach(t=>{const e=a(t.id,t);u.appendChild(e)}),u.$=t=>{if("text"in t&&(u.textContent=t.text),t.class&&c(u,t.class),t.css)if("string"==typeof t.css)u.style.cssText=t.css;else for(const e in t.css)if(t.css.hasOwnProperty(e)){const s=t.css[e],n=o(e);null==s?u.style.removeProperty(n):u.style.setProperty(n,s)}if(t.attrs)for(const e in t.attrs)if(t.attrs.hasOwnProperty(e)){const s=t.attrs[e];null==s?u.removeAttribute(e):r.has(e)?s?u.setAttribute(e,""):u.removeAttribute(e):u.setAttribute(e,s)}const e=s.get(u);for(const s in t)if(i(s)&&"function"==typeof t[s]){const n=s.slice(2).toLowerCase(),o=t[s];e[n]&&u.removeEventListener(n,e[n]),u.addEventListener(n,o),e[n]=o}return u},u._=u.style;const p=w.parent||"#view";if("string"==typeof p){const t=document.querySelector(p);t?t.appendChild(u):console.warn(`Parent selector "${p}" not found`)}else p.appendChild(u);return u.animate=(t,e={})=>u.animate(t,{duration:e.duration||300,easing:e.easing||"ease",fill:"forwards"}).finished,u.remove=()=>{const t=n.get(u);t&&(t.forEach(t=>t.disconnect()),n.delete(u));const e=s.get(u);if(e){for(const t in e)e.hasOwnProperty(t)&&u.removeEventListener(t,e[t]);s.delete(u)}u.parentNode?.removeChild(u)},u},l=(e,s)=>(t.set(e,s),s),d=(t,e,s={})=>{const o=new MutationObserver(t=>{t.forEach(t=>e(t))});o.observe(t,{attributes:!0,childList:!0,subtree:!0,...s}),n.has(t)||n.set(t,[]),n.get(t).push(o)};return"undefined"!=typeof window&&"undefined"!=typeof $&&"undefined"!=typeof define?setTimeout(function(){define("view",{tag:"div",class:"atome",id:"view"}),$("view",{parent:document.body,css:{background:"#272727",color:"lightgray",left:"0px",top:"0px",position:"absolute",width:"100%",height:"100%",overflow:"auto"}}),console.log("‚úÖ Kickstart demo initialized"),window.dispatchEvent(new CustomEvent("squirrel:ready")),console.log("üéâ Framework Squirrel vraiment pr√™t !")},150):console.warn("‚ö†Ô∏è Kickstart: Fonctions $ ou define non disponibles"),globalThis.$=a,globalThis.define=l,globalThis.observeMutations=d,globalThis.Squirrel={$:a,define:l,observeMutations:d,version:"1.0.0"},window.$=a,window.define=l,window.observeMutations=d,window.Squirrel=globalThis.Squirrel,console.log("‚úÖ Squirrel.js Minimal loaded"),globalThis.Squirrel}();
