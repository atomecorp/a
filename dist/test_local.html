<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Squirrel</title>
</head>
<body>
    <h1>Test Squirrel Library</h1>
    <div id="test-container"></div>
    
    <script src="squirrel.js"></script>
    <script>
        console.log('üîç Debug initial - Squirrel:', typeof Squirrel);
        console.log('üîç Debug initial - Button:', typeof Button);
        
        // Test simple avec timeout pour debug
        setTimeout(() => {
            console.log('üîç Apr√®s timeout - Squirrel:', typeof Squirrel);
            console.log('üîç Apr√®s timeout - Button:', typeof Button);
            console.log('üîç View element:', document.getElementById('view'));
            
            if (window.Button) {
                console.log('‚úÖ Button fonction trouv√©e, cr√©ation...');
                
                try {
                    const btn = Button({
                        text: 'Simple Test Button'
                    });
                    
                    if (btn) {
                        document.body.appendChild(btn);
                        console.log('‚úÖ Button ajout√© au DOM');
                    } else {
                        console.error('‚ùå Button est null');
                    }
                } catch (error) {
                    console.error('‚ùå Erreur cr√©ation button:', error);
                }
            } else {
                console.error('‚ùå Button non disponible');
            }
        }, 100);
    </script>
</body>
</html>
                    }
                } catch (error) {
                    console.error('‚ùå Erreur cr√©ation bouton:', error);
                }
            }
        }
    </script>
</body>
</html>
            console.log('‚úÖ Squirrel ready via Promise:', squirrel.version);
        })();
    </script>

     <script type="module">
    window.addEventListener('squirrel:ready', () => {
    $('span', {
  // pas besoin de 'tag'
  id: 'test1',
  css: {
    backgroundColor: '#00f',
    marginLeft: '0',
    padding: '10px',
    color: 'white',
    margin: '10px',
    display: 'inline-block'
  },
  text: 'Je suis un SPAN ! üéØ'
});
      
        window.addEventListener('squirrel:ready', (event) => {
            function createMaterialToggle(initialState = false) {
  let state = initialState;
  
  const container = document.createElement('div');
  container.style.cssText = `
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 10px;
  `;
  
  const toggle = Button({
    parent: '#view',
    text: '',
    onClick: () => {
      state = !state;
      updateVisualState();
      console.log('Toggle:', state ? 'ON ‚úÖ' : 'OFF ‚ùå');
    },
    style: {
      width: '50px',
      height: '24px',
      borderRadius: '12px',
      backgroundColor: state ? '#4CAF50' : '#ccc',
      position: 'relative',
      border: 'none',
      cursor: 'pointer',
      transition: 'background-color 0.3s ease'
    }
  });
  
  // const thumb = document.createElement('div');
  // thumb.style.cssText = `
  //   position: absolute;
  //   top: 2px;
  //   left: ${state ? '26px' : '2px'};
  //   width: 20px;
  //   height: 20px;
  //   border-radius: 50%;
  //   background: white;
  //   transition: left 0.3s ease;
  //   box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  // `;
  
  // toggle.appendChild(thumb);
  
  const label = document.createElement('span');
  label.textContent = state ? 'Activ√©' : 'D√©sactiv√©';
  label.style.fontWeight = 'bold';
  
  function updateVisualState() {
    toggle.style.backgroundColor = state ? '#4CAF50' : '#ccc';
    // thumb.style.left = state ? '26px' : '2px';
    label.textContent = state ? 'Activ√©' : 'D√©sactiv√©';
    label.style.color = state ? '#4CAF50' : '#666';
  }
  
  container.appendChild(toggle);
  container.appendChild(label);
  
  return {
    element: container,
    getValue: () => state,
    setValue: (newState) => {
      state = newState;
      updateVisualState();
    }
  };
}

// Utilisation
const myToggle = createMaterialToggle(false);
document.body.appendChild(myToggle.element);

// Pour r√©cup√©rer la valeur
console.log('√âtat actuel:', myToggle.getValue());
            console.log('üéØ Squirrel.js pr√™t avec kickstart!', event.detail);
            
            // V√©rifier que le kickstart a bien cr√©√© la vue
            const view = document.getElementById('view');
            if (view) {
                console.log('‚úÖ Vue principale cr√©√©e par kickstart:', view);
                console.log('üìê Styles de la vue:', window.getComputedStyle(view));
                
                // Ajouter du contenu dans la vue
                const content = $('div', {
                    text: 'üéâ Kickstart fonctionne ! La vue principale est cr√©√©e.',
                    css: {
                        padding: '20px',
                        fontSize: '18px',
                        textAlign: 'center',
                        backgroundColor: '#333',
                        color: '#fff',
                        margin: '20px',
                        borderRadius: '8px'
                    }
                });
                
                view.appendChild(content);
                
                // Test d'un composant dans la vue
                if (window.Button) {
                    const button = Button({
                      parent: '#view',
                        text: 'üî• Button dans la vue',
                        css: {
                            display: 'block',
                            margin: '20px auto',
                            padding: '15px 30px',
                            backgroundColor: '#007bff',
                            color: 'white',
                            border: 'none',
                            borderRadius: '5px',
                            fontSize: '16px',
                            cursor: 'pointer'
                        },
                        events: {
                            click: () => alert('Button dans la vue kickstart !')
                        }
                    });
                    
                    view.appendChild(button);
                    console.log('‚úÖ Button ajout√© dans la vue');
                }
                
            } else {
                console.error('‚ùå Vue principale non trouv√©e - kickstart a √©chou√©');
            }
        });
    });
  </script>
    
    
</body>
</html>
</html>
    
</body>
</html>
</html>
